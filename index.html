<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>all users</title>
    <link href="https://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.3.1/minty/bootstrap.min.css">
    <style>
        body { background-color: #fafafa; }
        .disabled {
                        pointer-events: none;
                    }
        .hide {display:none!important}
        
        .cc{
          text-align: center;
        }     
        img {
            border-radius: 50%;
          }
        h2 {
          text-align: center;
          font-size:30px;
          margin: 25px; 
        }
        table {
          text-align: center;
          font-size:18px;
          height: 200px;
          margin: 10px;
        }
        td {
            border: 0.5px dashed grey;
            text-align: center; 
            vertical-align: middle;
        }
        .scrollingTable {
            width: 10em;
            overflow-y: auto;
        }

    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="pagination.js?v3"></script>
  </head>

<body>
<h2>All users</h2>

<div class="cc">
  <p>Search by name, email or age:</p>
  <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for user" title="Type in a name">
    <table id="results" class="table table-striped">
      <tr>
        <th>Picture</th>
        <th>Full name</th>
        <th>Email</th>
        <th>Gender</th>
        <th>Age</th>
      </tr>
      <script>
        fetch("https://randomuser.me/api/?results=100")
        .then((res)=>res.json())
        .then((data)=>{
          console.log(data)
          data.results.map((user)=>{
            $("#results").append(`
            <tr class='clickable-row'>
              <td><img src="${user.picture.thumbnail}" alt="Avatar"></td>
              <td> <a href="user.html#username=${user.login.username}" id="${user.name.first} ${user.name.last}">
                ${user.name.first[0]}
                <p type="text/plain" hidden id="name">
                  ${user.name.first} ${user.name.last}
                </p>
                ${user.name.last[0]}</a></td>
              <td> <a href="https://mail.google.com/mail/">${user.email}</a></td>
              <td>${user.gender}</td>
              <td>${user.dob.age}</td>
            </tr>
            `)})
          })
      </script>
    </table>
  </div>

  <script src="jquery-3.6.0.min.js"></script>

<script>
  function myFunction() {
    var input, filter, table, tr, td, i, txtValue;
    input = document.getElementById("myInput");
    filter = input.value.toUpperCase();
    table = document.getElementById("results");
    tr = table.getElementsByTagName("tr");
    for (i = 0; i < tr.length; i++) {
      td = tr[i].getElementsByTagName("td")[1];
      td2 = tr[i].getElementsByTagName("td")[2];
      td3 = tr[i].getElementsByTagName("td")[4];
      if (td || td2 || td3) {
        txtValue = td.textContent || td.innerText;
        txtValue2 = td2.textContent || td2.innerText;
        txtValue3 = td3.textContent || td3.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1 || txtValue2.toUpperCase().indexOf(filter) > -1 || txtValue3.toUpperCase().indexOf(filter) > -1) 
        {
          tr[i].style.display = "";
        } else {
          tr[i].style.display = "none";
        }
      }       
    }
  }
  </script>
</body>
</html>

